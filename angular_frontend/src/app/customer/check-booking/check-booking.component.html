<section id="date">
  <div class="container">
    <form [formGroup]="searchBookingForm">
      <h6>Search Booking</h6>
      <div class="row">
        <!--<div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Invoice number"
            aria-label="invoice number"
            formControlName="invoiceNumber"
          >
        </div>-->
        <div class="col">
          <input
            type="email"
            class="form-control"
            placeholder="Email"
            aria-label="email"
            formControlName="email"
          >
        </div>
        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Booking Id"
            aria-label="booking-id"
            formControlName="bookingId"
          >
        </div>
        <div class="col">
          <button
            class="btn btn-primary btn-sm"
            (click)="findBooking()"
          >
            Find Booking
          </button>
        </div>
      </div>
       <!--todo: confirm identity of user before showing booking details-->
      <!--<div class="row">
        <div class="col">
          <input
            type="text"
            class="form-control"
            placeholder="Enter 4 digit OTP sent to your phone"
            aria-label="booking-id"
            formControlName="bookingId"
          >
        </div>
        <div class="col">
          <button
            class="btn btn-primary btn-sm"
            (click)="findBooking()"
          >
            Confirm OTP
          </button>
        </div>
      </div>-->
    </form>

    <ng-container *ngIf="bookings.length > 0">
      <div class="mt-3">
        <table class="table table-bordered table-striped">
          <tbody>
          <tr>
            <th>Appointment Date</th>
            <th>From</th>
            <th>To</th>
            <th>Purpose of visit</th>
            <th>Message</th>
            <th>Options</th>
          </tr>
          <tr *ngFor="let booking of bookings">
            <td>{{ booking?.date | date }}</td>
            <td>{{ booking?.time }}</td>
            <td>{{ booking?.time }}</td>
            <td>{{ booking?.purposeOfVisit }}</td>
            <td>{{ booking?.message }}</td>
            <td>
              <a (click)="gotoBooking(booking)" class="btn btn-link">More</a>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </ng-container>

    <div class="row mt-3">
      <div class="col-sm-2 offset-sm-10">
        <a routerLink="/" class="btn btn-secondary btn-sm">Go Back</a>

      </div>
    </div>

  </div>
</section>
